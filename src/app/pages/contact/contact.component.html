<div class="form-shadow fade-in"></div>
<div class="container fade-in">
  <div class="content-wrapper">
    <p>HOLA</p>
  </div>
  <div class="form-wrapper" [ngSwitch]="sendingStatus">
    <div class="d-flex flex-column" *ngSwitchCase="EmailSendingStatus.NotSent">
      <div class="d-flex fade-in-fast">
        <form
          id="contact-form"
          [formGroup]="contactForm"
          class="row justify-content-center"
        >
          <div class="col-12 col-sm-6 pb-1">
            <mat-form-field class="hoverable" appearance="outline">
              <mat-label>Your name</mat-label>
              <input formControlName="name" matInput placeholder="John Doe" />
              <mat-error>Your name is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-12 col-sm-6 pb-1">
            <mat-form-field class="hoverable" appearance="outline">
              <mat-label>Your email address</mat-label>
              <input
                formControlName="email"
                matInput
                placeholder="pat@example.com"
              />
              <mat-error
                >{{
                  contactForm.get("email")?.hasError("email")
                    ? "Please enter a valid email address"
                    : "Your email address is required"
                }}
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-12">
            <mat-form-field class="hoverable" appearance="outline">
              <mat-label>Your message</mat-label>
              <textarea
                formControlName="message"
                matInput
                rows="3"
                placeholder="Write whatever you want to say to me"
              ></textarea>
              <mat-error>Your message is required</mat-error>
            </mat-form-field>
          </div>
        </form>
        <button
          (click)="sendEmail()"
          class="submit-button hoverable ms-4"
          type="button"
          [disabled]="!contactForm.valid"
        >
          <mat-icon>send</mat-icon>
        </button>
      </div>
      <button
        (click)="sendEmail()"
        class="mobile-submit-button fade-in-fast"
        type="button"
        [disabled]="!contactForm.valid"
      >
        SEND
        <mat-icon>send</mat-icon>
      </button>
    </div>
    <ng-container *ngSwitchCase="EmailSendingStatus.Sending">
      <div
        class="d-flex align-items-center mx-4 text-center text-sm-start fade-in-fast"
      >
        <span class="loader me-3"></span>
        <h5 class="mb-0">
          Your message is being sent, please wait a moment...
        </h5>
      </div>
    </ng-container>
    <ng-container *ngSwitchCase="EmailSendingStatus.Ok">
      <div
        class="d-flex align-items-center mx-4 text-center text-sm-start fade-in-fast"
      >
        <mat-icon class="loader-icon green me-2">check_circle_outline</mat-icon>
        <h5 class="mb-0">Â¡Your message was sent!</h5>
      </div>
    </ng-container>
    <ng-container *ngSwitchCase="EmailSendingStatus.Error">
      <div
        class="d-flex align-items-center mx-4 text-center text-sm-start fade-in-fast"
      >
        <mat-icon class="loader-icon red me-2">cancel</mat-icon>
        <h5 class="mb-0">Something went wrong, please try again... :c</h5>
      </div>
    </ng-container>
  </div>
</div>
